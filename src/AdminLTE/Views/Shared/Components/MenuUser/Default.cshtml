@using SGEJ.Models.Common
@using SGEJ.Models.Common.Extensions
<li class="dropdown user user-menu">
    @if (User.Identity.IsAuthenticated)
    {
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
            <span>@User.GetUserProperty(CustomClaimTypes.GivenName) @User.GetUserProperty(CustomClaimTypes.Surname)</span>
        </a>
        <ul class="dropdown-menu">
            <!-- The user image in the menu -->
            <li class="user-header">
                <img src="@User.GetUserProperty(CustomClaimTypes.AvatarURL)" class="img-circle" alt="User Image">
                <p>
                    @User.GetUserProperty(CustomClaimTypes.GivenName) @User.GetUserProperty(CustomClaimTypes.Surname)
                    - @User.GetUserProperty(CustomClaimTypes.Position)
                    <small>Registered since @User.GetUserProperty(CustomClaimTypes.DateRegistered)</small>
                </p>
            </li>
            <!-- Menu Body -->
            <li class="user-body">

            <!-- Menu Footer-->
            <li class="user-footer">
                <div class="pull-right">
                    <form asp-controller="Account" asp-action="LogOff" method="post">
                        <button type="submit" class="btn btn-default btn-flat">Sair</button>
                    </form>
                </div>
            </li>
        </ul>
    }
</li>